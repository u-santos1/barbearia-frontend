<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4F46E5">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Barbearia Admin</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="loading-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); z-index: 9999; justify-content: center; align-items: center; backdrop-filter: blur(4px);">
    <div style="width: 40px; height: 40px; border: 4px solid #E5E7EB; border-top: 4px solid var(--primary); border-radius: 50%; animation: spin 0.8s linear infinite;"></div>
    <style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style>
</div>

<div id="app">

    <div id="screen-login" class="screen active">

        <div style="text-align: center; margin-top: 60px; margin-bottom: 40px;">
            <div style="width: 80px; height: 80px; background: #E0E7FF; border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto;">
                <span class="material-icons-round" style="font-size: 40px; color: var(--primary);">admin_panel_settings</span>
            </div>
            <h1 style="font-size: 24px; font-weight: 700;">Barber Pro</h1>
            <p style="color: var(--text-sec); font-size: 14px;">Gestão para Profissionais</p>
        </div>

        <div class="input-group">
            <label>E-mail (Login)</label>
            <input type="email" id="loginUser" placeholder="seu@email.com">
        </div>

        <div class="input-group">
            <label>Senha</label>
            <input type="password" id="loginSenha" placeholder="Sua senha secreta">
        </div>

        <div style="text-align: right; margin-bottom: 24px;">
            <a href="#" style="color: var(--text-sec); font-size: 13px; font-weight: 500;">Esqueceu a senha?</a>
        </div>

        <button class="btn-primary" onclick="fazerLogin()">
            Entrar no Painel
        </button>

        <button onclick="irParaCadastro()" style="background: transparent; border: 1px solid #E5E7EB; color: var(--text-main); width: 100%; padding: 14px; border-radius: 12px; font-weight: 600; margin-top: 16px; cursor: pointer; transition: 0.2s;">
            Criar conta profissional
        </button>

    </div>


    <div id="screen-register-owner" class="screen">

        <button onclick="voltarParaLogin()" style="background: none; border: none; color: var(--text-sec); font-weight: 600; display: flex; align-items: center; gap: 5px; margin-bottom: 20px; cursor: pointer;">
            <span class="material-icons-round">arrow_back</span> Voltar
        </button>

        <h1 style="font-size: 24px; font-weight: 700; margin-bottom: 10px;">Junte-se a nós</h1>
        <p style="color: var(--text-sec); font-size: 14px; margin-bottom: 30px;">Crie sua conta para gerenciar seus agendamentos.</p>

        <div class="input-group">
            <label>Nome Completo</label>
            <input type="text" id="regNome" placeholder="Ex: Wesley Silva">
        </div>

        <div class="input-group">
            <label>Nome da Barbearia (Opcional)</label>
            <input type="text" id="regShop" placeholder="Ex: Wesley Barber Shop">
        </div>

        <div class="input-group">
            <label>E-mail (Será seu Login)</label>
            <input type="email" id="regEmail" placeholder="exemplo@email.com">
        </div>

        <div class="input-group">
            <label>Criar Senha</label>
            <input type="password" id="regSenha" placeholder="Mínimo 6 caracteres">
        </div>

        <div class="input-group">
            <label>Confirmar Senha</label>
            <input type="password" id="regSenhaConfirm" placeholder="Repita a senha">
        </div>

        <button class="btn-primary" onclick="cadastrarNovoDono()">
            Finalizar Cadastro
        </button>

        <p style="text-align: center; margin-top: 20px; font-size: 12px; color: var(--text-sec);">
            Ao criar conta, você concorda com os Termos de Uso.
        </p>
    </div>


    <div id="screen-admin" class="screen">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <div>
                <h1 style="margin:0; font-size:20px;">Gestão</h1>
                <p id="welcome-msg" style="margin:0; font-size:12px; color:var(--text-sec);">Bem-vindo</p>
            </div>
            <button onclick="logout()" style="background:#FEE2E2; color:#991B1B; border:none; padding:8px; border-radius:8px; cursor:pointer;">
                <span class="material-icons-round">logout</span>
            </button>
        </div>

        <div id="admin-content"></div>

        <div class="admin-bottom-nav">
            <button class="nav-item active" onclick="navegarAdmin('dashboard')"><span class="material-icons-round">analytics</span><span>Visão</span></button>
            <button class="nav-item" onclick="navegarAdmin('agenda')"><span class="material-icons-round">calendar_today</span><span>Agenda</span></button>
            <button class="nav-item" onclick="navegarAdmin('servicos')"><span class="material-icons-round">content_cut</span><span>Serviços</span></button>
            <button class="nav-item" onclick="navegarAdmin('equipe')"><span class="material-icons-round">groups</span><span>Equipe</span></button>
        </div>
    </div>

    <div id="screen-booking" class="screen"> ... (Código do booking anterior) ... </div>
    <div id="screen-success" class="screen"> ... (Código de sucesso anterior) ... </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="app.js"></script>

<script>
    function entrarComoDono() {
        const senha = document.getElementById('loginSenha').value;

        // Validação simples (Pode remover o if se quiser aceitar qualquer coisa no teste)
        if(senha.trim() !== "") {
            document.getElementById('screen-login').classList.remove('active');
            document.getElementById('screen-admin').classList.add('active');
        } else {
            alert("Por favor, digite a senha de acesso.");
        }
    }

    function logout() {
        // Esconde todas as telas
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        // Mostra login
        document.getElementById('screen-login').classList.add('active');
        document.getElementById('loginSenha').value = '';
    }
</script>

</body>
</html>